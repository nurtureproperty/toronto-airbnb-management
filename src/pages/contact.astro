---
import Layout from '../layouts/Layout.astro';
---

<Layout
  title="Book a Free Consultation - Toronto Airbnb Management"
  description="Schedule your free consultation with Nurture Airbnb Property Management. Get a custom revenue projection and property evaluation for your Toronto rental."
>
  <!-- Hero -->
  <section class="contact-hero">
    <div class="container">
      <div class="contact-hero-content">
        <h1>See How Much Your Property Can Earn</h1>
        <p>Book a free, no-obligation consultation. We'll give you an honest assessment of what your property could earn on Airbnb.</p>
      </div>
    </div>
  </section>

  <!-- Main Content -->
  <section class="contact-main">
    <div class="container">
      <!-- Value Props - Above form to prevent CLS from iframe resizing -->
      <div class="contact-info-col">
        <div class="what-you-get">
          <h3>What you'll get on the call</h3>
          <ul>
            <li>
              <svg class="check-svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/></svg>
              <span>A custom revenue projection for your specific property</span>
            </li>
            <li>
              <svg class="check-svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/></svg>
              <span>A breakdown of expenses so you see real profit, not just revenue</span>
            </li>
            <li>
              <svg class="check-svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/></svg>
              <span>An honest assessment of whether Airbnb makes sense for your situation</span>
            </li>
            <li>
              <svg class="check-svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/></svg>
              <span>Zero pressure. We only want clients who are a good fit.</span>
            </li>
          </ul>
        </div>
      </div>

      <!-- Booking Form -->
      <div class="contact-form-col">
        <div class="form-card">
          <div class="form-card-header">
            <h2>Book Your Free Consultation</h2>
            <p>Pick a time that works for you</p>
          </div>
          <iframe
            data-src="https://api.nurtre.io/widget/booking/VGvuhzjQT58ZPGHt0LUV"
            style="width:100%;border:none;overflow:hidden;height:1500px"
            scrolling="no"
            id="VGvuhzjQT58ZPGHt0LUV_1770588175398"
          ></iframe>
        </div>
      </div>
    </div>
  </section>

</Layout>

<script is:inline>
  // Lazy-load booking iframe when it scrolls into view
  var formLoaded = false;
  function loadContactForm() {
    if (formLoaded) return;
    formLoaded = true;
    var iframe = document.querySelector('.form-card iframe');
    if (iframe && iframe.dataset.src) {
      iframe.src = iframe.dataset.src;
      var s = document.createElement('script');
      s.src = 'https://api.nurtre.io/js/form_embed.js';
      document.body.appendChild(s);
    }
  }
  var fo = new IntersectionObserver(function(entries) {
    if (entries[0].isIntersecting) { fo.disconnect(); setTimeout(loadContactForm, 200); }
  }, { rootMargin: '200px' });
  var fc = document.querySelector('.form-card');
  if (fc) fo.observe(fc);
</script>

<style is:inline>
  /* Hero */
  .contact-hero {
    background: linear-gradient(135deg, var(--color-primary-dark) 0%, var(--color-primary) 100%);
    color: white;
    padding: 3rem 0 3.5rem;
    text-align: center;
    position: relative;
    overflow: hidden;
  }

  .contact-hero::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.03'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
    opacity: 0.5;
    pointer-events: none;
  }

  .contact-hero-content {
    position: relative;
    z-index: 1;
    max-width: 650px;
    margin: 0 auto;
  }

  .contact-hero h1 {
    font-size: clamp(1.75rem, 3.5vw, 2.5rem);
    margin-bottom: 0.75rem;
  }

  .contact-hero p {
    font-size: 1.1rem;
    opacity: 0.9;
    line-height: 1.6;
  }

  /* Main Contact Section */
  .contact-main {
    padding: 3rem 0 4rem;
  }

  /* Form Column */
  .contact-form-col {
    max-width: 600px;
    margin: 0 auto;
  }

  /* Info Column - Above form */
  .contact-info-col {
    max-width: 600px;
    margin: 0 auto 2rem;
  }

  /* What You Get */
  .what-you-get h3 {
    font-size: 1.25rem;
    margin-bottom: 1rem;
    color: var(--color-text);
  }

  .what-you-get ul {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-direction: column;
    gap: 0.875rem;
  }

  .what-you-get li {
    display: flex;
    align-items: flex-start;
    gap: 0.75rem;
    font-size: 0.95rem;
    line-height: 1.5;
    color: var(--color-text-light);
  }

  .check-svg {
    width: 20px;
    height: 20px;
    flex-shrink: 0;
    color: var(--color-primary);
    margin-top: 2px;
  }

  /* Form Card */
  .form-card {
    background: white;
    border-radius: 16px;
    box-shadow: 0 8px 40px rgba(0, 0, 0, 0.1);
    overflow: hidden;
    border: 1px solid var(--color-border);
    contain: layout;
  }

  .form-card-header {
    padding: 1.5rem 1.5rem 0;
    text-align: center;
  }

  .form-card-header h2 {
    font-size: 1.35rem;
    margin-bottom: 0.25rem;
    color: var(--color-text);
  }

  .form-card-header p {
    color: var(--color-text-light);
    font-size: 0.95rem;
  }

  .form-card iframe {
    height: 1500px;
  }

  /* Responsive */
  @media (max-width: 768px) {
    .contact-hero {
      padding: 2rem 0 2.5rem;
    }

    .contact-main {
      padding: 2rem 0 3rem;
    }

    .contact-info-col {
      margin-bottom: 1.5rem;
    }
  }

  @media (max-width: 480px) {
    .contact-hero h1 {
      font-size: 1.5rem;
    }
  }
</style>
